<?xml version="1.0"?>
<testCase version="9.1.1.202209201235">
    <general>
        <documentation>5G_DEREG_010 UDM initiated de-registration - without PDU - connected mode</documentation>
        <tags>5G_DEREG_010, Automation_Next_Gen_Framework</tags>
        <notes>Test Purpose: The purpose of this test is to verify the UDM initiated Deregistration in CM-CONNECTED without PDU. 
Pre-requisites/Test Environment:
•\tThis scenario can only be run in Spirent.
•\tUE with 5G SIM card.
•\tAccess to UDM/UDR to delete subscriber.
•\tThe trace/log collection is started.
Test Dependencies: 
•\tUE is registered with 5G network.
•\tUE is CM-CONNECTED mode.
Test parameter and Tools:
•\tInternal logs and Wireshark.
Test Procedure:
•\tStart the trace / log collection.
•\tVerify that the UE is CM-CONNECTED state on the AMF: cmm subscriber show --imsi &lt;imsi&gt; | grep mState.
•\tVerify on SMF that UE has no existing PDU session.
•\tShow mobile-gateway pdn pdu-session.
•\tVerify that the PCF shows no PDU sessions for the UE (From the PCF GUI: Subscriber Manager -&gt; Session.
•\tDelete subscriber from UDM/UDR).
•\tProvision a spml delete.
•\tStop the trace/ log collection.
Remarks: 
•\t3GPP TS References - 3GPP TS 23.502 version 16.5.0 Release 16, TS 23.502 4.2.2.3.2,4.2.2.3.3 Release 17
•\tCall Flow References - E2E Call Flow Document Appendix Section 2.7.
Expected Result/Post Condition:  
•\tSuccessful UE initiated Deregistration happens.
•\tThe UE is successfully deregistered.
•\tVerify that UDM sends Nudm_UECM_DeregistrationNotification message to AMF with Removal Reason.
•\tVerify that the UE has received De-registration Accept message from AMF. 
•\tVerify that the UE an AM Policy Associations are terminated from PCF. 
•\tVerify that the signaling connections are terminated.
•\tTraces and logs are stopped successfully.
</notes>
        <language>Python</language>
    </general>
    <procedures>
        <item name="main">
            <steps>
                <item guid="677ba52a-51d3-4ded-a21f-a424a2be24eb" action="comment" useFieldsInCommand="false">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4626dcff-e132-4d91-9a24-bc13fee30143" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>param(&apos;UDM/username&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
                <item guid="d4cc7d0e-804e-49dc-8d8c-8a723a41af6c" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>param(&apos;UDM/password&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
                <item guid="15ca68ee-54b5-474c-a11d-5f5b5954a053" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Define Landslide Library Key, project_id; INIT instance_id aka tc_id, failure_originators_list and write_cause_code_data</body>
                    </command>
                    <nestedSteps>
                        <item guid="4a7108bc-6028-4f1a-9c25-91e93f91b269" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Local process driver variable init. (Instence level parameters)</body>
                            </command>
                            <nestedSteps>
                                <item guid="af6216b2-f46c-4499-b132-9b05e24bfad4" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Set the tmd variables</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="9456d42b-881f-4f44-9d4d-0cfd10807eff" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>additional_validation = param(&apos;TMD_Name/process_manager/additional_validation&apos;, &apos;False&apos;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="a36da7e8-7894-491b-b268-6fc6685f6dcd" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pcap_analysis = param(&apos;TMD_Name/process_manager/pcap_analysis&apos;, &quot;false&quot;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5b727cb4-a562-4237-b136-285506d88747" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>show_charts = param(&apos;TMD_Name/process_manager/show_charts&apos;, &quot;false&quot;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a49c8ecb-66cc-48e6-ad89-5244666b4a13" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>libraryName = &quot;{Dish 5G Velocity Automation}&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="50e562b3-0fba-4a62-aa31-7ec25796fe99" action="eval" skip="true" useFieldsInCommand="false">
                            <command>
                                <body>libraryName = &quot;{Dish 5G Velocity Scrub}&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="668f8435-7ed1-4539-a363-ce879ccba157" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tc_id = info(&apos;testCaseName&apos;, &apos;main&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b1257783-aa03-4883-8454-db19feaaf44f" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>project_id = info(&apos;testCaseProject&apos;, &apos;main&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c0cbbad3-0d62-44e0-8761-1691fb47222b" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>failure_originators_list = []</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="6662409e-bc28-461e-83a6-7168cfcf65b3" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>write_cause_code_data = &quot;False&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b2fdf3cb-261c-46b7-9292-ec4014a63628" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ls_criteria_data_error = &quot;False&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c99b43e2-1faa-44d3-95f3-e87d79674e63" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Call test_instance_init - Process will ensure the driving data is correct, Landslide configured and status checked. If you return all is well or there was an issue an we&apos;ve Aborted.</body>
                    </command>
                    <nestedSteps>
                        <item guid="61734b6e-02db-42c5-a056-875d3d2e6c77" action="call" useFieldsInCommand="false">
                            <command>
                                <body>project://ai_Dish_Production/DISH_5G/Utilities/dish_tc_utilities.fftc#test_instance_init -instance_id [tc_id] -ls_library_name [libraryName] -project_id [project_id]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>instance_number</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>run_data_list</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="a4b126c4-eaeb-4fd2-a400-adc9e7200707" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>UDM</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="a13802d9-bc7a-434f-affe-0d8e2a6b77bb" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Pre test NF activities</body>
                    </command>
                    <nestedSteps>
                        <item guid="3c34fc81-992a-4b43-ac11-a842dafcd99e" action="call" useFieldsInCommand="false">
                            <command>
                                <body>saveSubUDM()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="2ba5ea44-cfa3-4004-89e3-9c31e3d5ccca" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Add a seperator; we&apos;ve completed the setup, start the Landslide process</body>
                    </command>
                    <nestedSteps>
                        <item guid="66ef4079-e71a-460b-bd2e-782c029ea490" action="call" useFieldsInCommand="false">
                            <command>
                                <body>project://ai_Dish_Production/DISH_5G/Utilities/utils.fftc#insert_devider_string -length 135</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="d5c0d172-6c4e-40f4-bf77-e89b6f632878" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>##### Perform Landslide Test Procedure #####</body>
                    </command>
                    <nestedSteps>
                        <item guid="7ea50c8a-21ea-4925-b22f-22371ab08fe9" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>start_time = int(round(time.time() * 1000))</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="4e463163-7d1a-48ec-898c-f6683daa640f" action="call" useFieldsInCommand="false">
                            <command>
                                <body>project://ai_Dish_Production/DISH_5G/Utilities/dish_landslide_rest_library.fftc#dish_execute_landslide_procedure -run_data_list [run_data_list]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/item)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>exec_ls_testdata_item_cnt</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query>mapped/Json/reason</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>fail_reason</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>reason</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>[fail_reason]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>errorsAndWarnings = True</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>errorsAndWarnings = False</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>errorsAndWarnings</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>[fail_reason]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>errorsAndWarnings = True</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>errorsAndWarnings = False</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>exec_ls_testdata</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="ca3805c9-e1f7-4186-99e7-40e5ec26420d" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>end_time = int(round(time.time() * 1000))</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1c2226f4-d199-4678-8488-ad91db5e9b8e" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Check &apos;exec_ls_test_data&apos; for logged failure in criteria validation; Act accordingly.... 2 or 3 items we can work with all others counts are bad</body>
                            </command>
                            <nestedSteps>
                                <item guid="8b04daf2-45c7-4c0b-884f-911ed802309a" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>int(exec_ls_testdata_item_cnt) == 3:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="5ef029e5-f466-418e-bb40-90debfdf7712" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(exec_ls_testdata)</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Json/item[1]</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>running_id</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Json/item[2]</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>failure_originator</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Json/item[3]</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>results_payload_uri_list</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f9be2625-885c-407e-8ec3-6f349053dc94" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>failure_originators_list.append(failure_originator)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="049eaac3-b87b-46d7-a14f-25cac4c84fa4" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>write_cause_code_data = &quot;True&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="f9cc1531-c9fc-4233-a5be-15196761d1e6" action="elif" useFieldsInCommand="false">
                                    <command>
                                        <body>int(exec_ls_testdata_item_cnt) == 2:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="524c1373-2f5c-4c39-833b-f4b67cb48211" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(exec_ls_testdata)</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Json/item[1]</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>running_id</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Json/item[2]</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>results_payload_uri_list</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="31725f71-f297-4cf4-807d-01b50b1d67ae" action="else" useFieldsInCommand="false">
                                    <command>
                                        <body>ERROR in data data return shape, can&apos;t continue with PCAP validation</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="54e717c0-aa8c-402c-acd2-fb4da21d477f" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ls_criteria_data_error = &quot;True&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="cfea0409-df9e-4be4-9562-13ab3386ed69" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Check for additional Validation; Landslide Criteria Validation has been completed</body>
                    </command>
                    <nestedSteps>
                        <item guid="717403ff-1981-4ef9-a522-addb6fcf0b5b" action="if" useFieldsInCommand="false">
                            <command>
                                <body>str(pcap_analysis) == &quot;True&quot; and str(errorsAndWarnings) == &quot;False&quot; and str(ls_criteria_data_error) == &quot;False&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="7dff8a09-ca63-4a1f-aecf-dae3d218e6d7" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Check &apos;exec_ls_test_data&apos;; Act accordingly.... 2 or 3 items we can work with all others counts are bad</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="b6855673-709e-476f-999e-a9547664b30d" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>int(exec_ls_testdata_item_cnt) == 3:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="3d63e38a-be35-45d0-b15f-51233c9144f3" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>print(exec_ls_testdata)</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>mapped/Json/item[1]</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>running_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>mapped/Json/item[2]</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>failure_originator</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>mapped/Json/item[3]</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>results_payload_uri_list</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="f5aac968-2116-411c-aa93-06f5731a980c" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>ls_pcap_data_error = &quot;False&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="30a9ec80-4b94-44e0-9681-97ae89411b78" action="elif" useFieldsInCommand="false">
                                            <command>
                                                <body>int(exec_ls_testdata_item_cnt) == 2:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="18dae2ff-6bba-4101-b20e-e49a4b9525f8" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>print(exec_ls_testdata)</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>mapped/Json/item[1]</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>running_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>mapped/Json/item[2]</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>results_payload_uri_list</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="eb1fac15-0261-4817-99da-b65a2dd56d58" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>ls_pcap_data_error = &quot;False&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="83cb9d8e-1679-4836-ba47-240b40c3f58f" action="else" useFieldsInCommand="false">
                                            <command>
                                                <body>ERROR in data data return shape, can&apos;t continue with PCAP validation</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="045f0d40-f94b-4bff-a8dc-55443d9df0f0" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>ls_pcap_data_error = &quot;True&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="1737cc8b-f470-48ff-a87e-3c63ef48eff2" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>str(ls_pcap_data_error) == &quot;False&quot;:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="556c273b-4cac-49ed-b70e-cdbb0a18c9bb" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Message Validation Start</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="aa8bd7d5-d983-4329-b700-4953360845df" action="message" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Information: Starting Landslide PCAP Validation</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                        <message inherit="false"> Starting Landslide PCAP Validation</message>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="95514363-e4c0-4284-94b4-3759b9bf0acb" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Call pcap_validation and do the work; based upon the return, report cause codes if failure logged</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="12ed81fb-99ff-4449-be4a-d677fa5c4ab8" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>project://ai_Dish_Production/DISH_5G/Utilities/dish_tc_utilities.fftc#utility_pcap_validation -results_url_list [results_payload_uri_list] -running_id [running_id]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>responseLine()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>pcap_return_status</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="c8c634c3-5e05-4e83-a11d-65e595cd371a" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>str(pcap_return_status) != &quot;PASSED&quot;:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="a28e35b7-4a12-406c-8343-e4e50a7cd581" action="comment" useFieldsInCommand="false">
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="a1ce4e12-0e9a-4807-ba57-ef80a169ac88" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>write_cause_code_data = &quot;True&quot;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="b39483ba-8388-4b6c-89ba-1720490550b8" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>failure_originators_list.append(&apos;pcap&apos;)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="6af30e27-5bd8-4b74-b1bc-047433550554" action="comment" useFieldsInCommand="false">
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="4ee4ee17-c847-4f42-8aec-e96f6c9b383e" action="comment" useFieldsInCommand="false">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="3f5bbe83-2f07-4527-b4c2-1ed5addb69fd" action="if" useFieldsInCommand="false">
                            <command>
                                <body>str(additional_validation) == &quot;True&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="752c2a8e-fd19-4a7d-9a37-76dcf6f8a293" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Routine is just a stub; Awaiting requirements and process definition to continue/complete.</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="cebae17d-b354-4bf9-9394-4f529bb527bc" action="call" useFieldsInCommand="false">
                                    <command>
                                        <body>project://ai_Dish_Production/DISH_5G/Utilities/dish_tc_utilities.fftc#additional_validation_mgr -instance_id [tc_id] -project_id [project_id] -running_id [running_id] -validate_process_type NOT_DEFINED -validation_type_id NOT_DEFINED</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="f14e6f46-50cc-464e-b9c2-031e380c01a0" action="comment" useFieldsInCommand="false">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="3cf865e3-93fb-4555-ac9d-130adcd9097b" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Add a seperator; we&apos;re done here</body>
                            </command>
                            <nestedSteps>
                                <item guid="66ebac06-c4b7-41a2-8789-a9f567eb496b" action="call" useFieldsInCommand="false">
                                    <command>
                                        <body>project://ai_Dish_Production/DISH_5G/Utilities/utils.fftc#insert_devider_string -length 135</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="abc2ebd7-82a5-4651-9877-a9543b591dd2" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>If a FAILURE was logged in ANY of the above validation processes.  Call &apos;write_landslide_extracted_cause_code_data&apos; and log as extracted data</body>
                    </command>
                    <nestedSteps>
                        <item guid="30884e0e-0446-47e1-8a66-445b759c954c" action="if" useFieldsInCommand="false">
                            <command>
                                <body>str(write_cause_code_data) == &quot;True&quot; and str(ls_criteria_data_error) == &quot;False&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="263d8a6e-5749-4ed5-8cdc-f3d37f466210" action="comment" useFieldsInCommand="false">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="15b54d54-e7be-49c1-98ed-64253f4f20ad" action="call" useFieldsInCommand="false">
                                    <command>
                                        <body>project://ai_Dish_Production/DISH_5G/Utilities/dish_tc_utilities.fftc#write_landslide_extracted_cause_code_data -failure_originator [failure_originators_list] -results_payload_uri_list [results_payload_uri_list]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="d4aaa3a8-951f-4283-a0dd-85f65cdef763" action="comment" useFieldsInCommand="false">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="3f3dcd16-a234-40eb-ac0d-5a0a9f73b379" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>IF test failing, do RADCOM capture</body>
                    </command>
                    <nestedSteps>
                        <item guid="9c9355b8-6e5e-4e48-b476-54e08c82260c" action="if" useFieldsInCommand="false">
                            <command>
                                <body>info(&apos;status&apos;) == &apos;Fail&apos;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="941711e7-07d8-42b1-b373-3fd4ff220f09" action="call" useFieldsInCommand="false">
                                    <command>
                                        <body>project://ai_Dish_Production/DISH_5G/Utilities/pcap_utils.fftc#radcom_capture_if_fail(end_time=end_time, start_time=start_time, capture_type=&quot;ECP_CP_by_IMSI&quot;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="868d5fc2-9bde-4132-8cbe-5ddd4485fdde" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Display end of instance info</body>
                    </command>
                    <nestedSteps>
                        <item guid="83684838-e3ba-44df-a624-9ea9fe3ba5cf" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(info(&apos;testCaseName&apos;, &apos;main&apos;))</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>responseLine()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>Test Case Name: {value}</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a895636a-b3f5-4a2c-88f1-026167fb27dd" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Report the RID information Or the error that came back from &apos;execute_dish_landslide_procedure&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="390dbd65-074a-4c15-b0d2-1752702852df" action="if" useFieldsInCommand="false">
                            <command>
                                <body>errorsAndWarnings:</body>
                            </command>
                            <nestedSteps>
                                <item guid="40103b58-8b5e-45cd-bf7a-9655557dd397" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>If we&apos;re here the exec_ls_testdata contains the errorsAndWarnings data</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e68dfdb9-77a2-4db4-8529-bcc47b56ee8d" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>exec_ls_testdata</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="043c2996-d1fb-448f-b36c-af7db08330c1" action="comment" useFieldsInCommand="false">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="cf7a4363-0bcf-4996-97fb-216ccef5fb2c" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="90d5222a-1e00-459e-a4f1-d0ebcc05107b" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Display the RIDs for this instance</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="71b3a998-012f-4a4b-bae7-0182ea119bd4" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>rid_msg = &quot;Landslide Running IDs: &quot; + str(running_id)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="96b9fc47-a225-41f0-b95d-75aab310b50a" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(rid_msg)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="message">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                        <message>{value}</message>
                                                        <tag sub="false" defaultValue=""/>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="79575eb1-9cd7-488e-9b1b-a8dd17475879" action="comment" useFieldsInCommand="false">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="bc7b35b6-dd76-4e04-bbd3-a7930f5c853b" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Show charts</body>
                    </command>
                    <nestedSteps>
                        <item guid="11079b88-8733-4175-897f-41fbf95ce427" action="if" useFieldsInCommand="false">
                            <command>
                                <body>show_charts:</body>
                            </command>
                            <nestedSteps>
                                <item guid="e17a2dff-d19c-4a91-8d01-9badc5a53ce6" action="call" useFieldsInCommand="false">
                                    <command>
                                        <body>project://ai_Dish_Production/DISH_5G/Utilities/dish_tc_utilities.fftc#build_charts -reportData [result_list]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="2b2dd797-4ae5-49da-be0a-176bc8584e61" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Call post_instance_processor - Always called</body>
                    </command>
                    <nestedSteps>
                        <item guid="4840271f-590e-4678-91f1-670350dfd217" action="if" useFieldsInCommand="false">
                            <command>
                                <body>str(ls_criteria_data_error) == &quot;False&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="f44c227e-ff53-43f8-89b9-8d60234b5479" action="call" useFieldsInCommand="false">
                                    <command>
                                        <body>project://ai_Dish_Production/DISH_5G/Utilities/dish_tc_utilities.fftc#post_instance_processing -instance_id [tc_id] -project_id [project_id] -running_id [running_id]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="fee8fe5b-460c-4bc2-99e6-dc13a7beea4f" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Post-test NF activities</body>
                    </command>
                    <nestedSteps>
                        <item guid="270a1087-02bc-49e4-b1ab-8e48eed87677" action="call" useFieldsInCommand="false">
                            <command>
                                <body>restoreSubUDM()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ac9dbbcd-cde0-4162-8da5-a1c557c3228f" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Close the Landslide session opened via &apos;test_instance_init&apos;</body>
                    </command>
                    <nestedSteps>
                        <item guid="78c0d68f-b101-4b0d-ab54-20b767da2789" action="call" useFieldsInCommand="false">
                            <command>
                                <body>project://ai_Dish_Production/DISH_5G/Utilities/dish_landslide_rest_library.fftc#dish_close_landslide -session s1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e2061f6c-c539-463d-b383-b50ebad40bc3" action="comment" useFieldsInCommand="false">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
        <item name="saveSubUDM" isPublic="true">
            <steps>
                <item guid="2bb17f20-53ca-471e-bf16-1ee94e690219" action="if" useFieldsInCommand="false">
                    <command>
                        <body>param(&apos;UDM/hostname&apos;) != &quot;&quot;:</body>
                    </command>
                    <nestedSteps>
                        <item guid="f6bb00d7-bf74-44bc-aa0d-f1861de60a8c" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ipAddr = param(&apos;UDM/hostname&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4be2ce97-380c-41c5-a982-25d5f72a9964" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="1d42dd1f-906b-4f8e-b715-9206a1691c72" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ipAddr = param(&apos;UDM/ip_address&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="952fe830-525e-4dae-98a2-00efb669317a" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>supi = param(&apos;LS_Nodal_favorite_params/ts0/tc0/UeNas5gMmSupi&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
                <item guid="3b6348b3-af0a-4095-a890-34db945e6d65" action="message" useFieldsInCommand="false">
                    <command>
                        <body>Information:Saving sub [supi] on UDM for later recovery</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                        <message inherit="false">Saving sub [supi] on UDM for later recovery</message>
                    </applicationProperties>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
                <item guid="62285ea5-bbff-4e37-8932-644404a53f22" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>ldap_port = param(&apos;UDM/ldap_port&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
                <item guid="fcb0d623-bb28-43c2-b5d9-23737bd6d8ee" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>ldap_password = param(&apos;UDM/ldap_password&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
                <item guid="c65be834-09e4-44fd-8220-58c83c1d5902" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>param(&apos;UDM/username&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
                <item guid="9a659e72-18e0-4fe5-a392-70b4b571e9c9" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>param(&apos;UDM/password&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
                <item guid="97829d19-c813-426d-9764-c894d4cf77a1" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>ldap_cn = param(&apos;UDM/ldap_cn&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
                <item guid="da5ea4b3-9415-490c-a566-f316c645eed9" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>ldap_ip = param(&apos;UDM/ldap_ip&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
                <item guid="daeb1f01-b93d-4232-b5ae-f48231f703f8" action="open" session="UDM">
                    <command>
                        <body>project://di_[param(&apos;UDM/make&apos;)]/session_profiles/UDM.ffsp</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                        <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        <sessionProperties type="com.fnfr.svt.applications.ssh.documents.SSHProperties">
                            <ipAddress inherit="false">[ipAddr]</ipAddress>
                        </sessionProperties>
                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    </applicationProperties>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/UDM.ffsp"/>
                </item>
                <item guid="f2f33c6e-363c-443c-ba34-7f897f2b9404" action="save_supi" session="UDM" useFieldsInCommand="false">
                    <command>
                        <body>-ldap_ip $ldap_ip -ldap_cn $ldap_cn -ldap_password $ldap_password -ldap_port $ldap_port -supi $supi</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/UDM.ffsp"/>
                </item>
                <item guid="56158eab-5939-4955-a07d-8bdc218c8e07" action="close" session="UDM">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
            </steps>
        </item>
        <item name="deleteSubUDM" isPublic="true">
            <steps>
                <item guid="28a9c775-58e1-4816-a765-f09eb0eb6447" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>sub = param(&apos;LS_Nodal_favorite_params/ts0/tc0/UeNas5gMmSupi&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
                <item guid="d2e0b2cc-18ac-4fec-8712-27841c7276cc" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Verify PDU session in SMF</body>
                    </command>
                    <nestedSteps>
                        <item guid="6b23071c-228d-4209-ba4d-7f0414278c1c" action="if" useFieldsInCommand="false">
                            <command>
                                <body>param(&apos;SMF/hostname&apos;) != &quot;&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="976c1a4a-d668-4d5b-aa91-7d479c96ccd2" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ipAddr = param(&apos;SMF/hostname&apos;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="0e622237-2c53-4166-98f7-1f06f6465011" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="8d439d56-d6b2-4fcc-9d12-77bbec691133" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ipAddr = param(&apos;SMF/ip_address&apos;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="aa454260-ee66-433d-b6e6-2195ed5a2e40" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Information:Verifying subscriber [sub] has zero PDU registered in the SMF</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <message inherit="false">Verifying subscriber [sub] has zero PDU registered in the SMF</message>
                            </applicationProperties>
                            <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                        </item>
                        <item guid="5c93c92f-1c0d-4a21-9584-a0ccb0107768" action="open" session="SMF">
                            <command>
                                <body>project://di_[param(&apos;SMF/make&apos;)]/session_profiles/SMF.ffsp</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                <sessionProperties type="com.fnfr.svt.applications.ssh.documents.SSHProperties">
                                    <ipAddress inherit="false">[ipAddr]</ipAddress>
                                    <port inherit="false">[param(&apos;SMF/ssh_port&apos;)]</port>
                                    <user inherit="false">[param(&apos;SMF/username&apos;)]</user>
                                    <password inherit="false" masked="false">[param(&apos;SMF/password&apos;)]</password>
                                </sessionProperties>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                            <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/SMF.ffsp"/>
                        </item>
                        <item guid="eddce532-3403-453b-868e-2d4162a12424" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>value = []</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                        </item>
                        <item guid="fe803465-aa11-4db8-b28b-075ca9d47ce6" action="get_subscriber_pdus" session="SMF" useFieldsInCommand="false">
                            <command>
                                <body>-supi $sub</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/pdus/item</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>len(value) == 0</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message>PDU(s) down in SMF </message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                            <message>PDUs are still up waiting 5 sec and trying again.</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="RepeatStep">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="3" delayBetweenRepeats="5.0"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <eventHandlers>
                                <item name="OnRepeatStepMaxCountExceeded">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message>PDUs did not go down, aborting SMF interaction.</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="FailTest">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                    <item actionId="ExitProcedure">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                    </item>
                                </item>
                                <item name="OnNoMatchesFound">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                            <message>PDUs down in SMF</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="PassTestIfNotAlreadyFailed">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/SMF.ffsp"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="22711aaa-8f63-4dab-95f8-0bc27d99d3d7" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Verify UE CONNECTED mode (not IDLE)</body>
                    </command>
                    <nestedSteps>
                        <item guid="119069ba-62f3-4d83-92af-a37fc1570400" action="if" useFieldsInCommand="false">
                            <command>
                                <body>param(&apos;AMF/hostname&apos;) != &quot;&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="d986df7c-9203-4627-932c-8f8d3043efa8" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ipAddr = param(&apos;AMF/hostname&apos;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="4cb2b7fe-7caf-4c8f-92c2-25c9739fcaf0" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="9df111fd-1d4a-4c49-a238-d88797f1cdf4" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ipAddr = param(&apos;AMF/ip_address&apos;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="d9fd2ea9-4f8b-4e21-89c4-b677e371bf44" action="open" session="AMF">
                            <command>
                                <body>project://di_[param(&apos;AMF/make&apos;)]/session_profiles/AMF.ffsp</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                <sessionProperties type="com.fnfr.svt.applications.ssh.documents.SSHProperties">
                                    <ipAddress inherit="false">[ipAddr]</ipAddress>
                                    <user inherit="false">[param(&apos;AMF/username&apos;)]</user>
                                    <password inherit="false" masked="false">[param(&apos;AMF/password&apos;)]</password>
                                </sessionProperties>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                            <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                        </item>
                        <item guid="6b6c6cbf-69c1-4058-a44b-58de7897f0d3" action="set_write_mode_on" session="AMF" useFieldsInCommand="false">
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                        </item>
                        <item guid="6000360d-c549-4984-9248-8266f6f41ff4" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Information:Verifying UE in CONNECTED mode</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <message inherit="false">Verifying UE in CONNECTED mode</message>
                            </applicationProperties>
                            <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                        </item>
                        <item guid="ade8e09c-ad8f-4a31-8770-d7a938b64fa2" action="get_subscriber_info_by_supi" session="AMF" responseMap="project://di_Nokia/response_maps/subscriber_show_plain.ffrm" useResponseMapLibraryApplicability="false" useFieldsInCommand="false">
                            <command>
                                <body>-supi $sub</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query>amfCmState()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>str(value) == &quot;CONNECTED&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message>AMF confirms that subscriber [sub] CM State is CONNECTED</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                            <message>UE has not reached CONNECTED</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="RepeatStep">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="15" delayBetweenRepeats="3.0"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query>amfRmState()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>str(value) == &quot;REGISTERED&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message>AMF confirms that subscriber [sub] RM State is REGISTERED</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>AMF says that subscriber [sub] CM State is not REGISTERED (but should be)</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Exiting w/out deleting subscriber</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="ExitProcedure">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <eventHandlers>
                                <item name="OnRepeatStepMaxCountExceeded">
                                    <item actionId="FailTest">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message>Timeout waiting for UE to reach CONNECTED state</message>
                                        </actionProperties>
                                    </item>
                                </item>
                                <item name="OnResponseMappingIssue">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                            <message>UE has not reached CONNECTED state</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="RepeatStep">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="10" delayBetweenRepeats="3.0"/>
                                    </item>
                                    <item actionId="SkipRemainingRules">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <useResponseMapLibraryFromSession>false</useResponseMapLibraryFromSession>
                            <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                        </item>
                        <item guid="3c6757dd-d203-43a6-9e7c-a5f80385fc8a" action="close" session="AMF" useFieldsInCommand="false">
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4db3d4c1-1f2f-4423-886a-f0438aa25a82" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Delete sub from UDM</body>
                    </command>
                    <nestedSteps>
                        <item guid="803224de-f6e0-45f4-8295-8c889bb9030c" action="if" useFieldsInCommand="false">
                            <command>
                                <body>param(&apos;UDM/hostname&apos;) != &quot;&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="854c4297-3fdf-4abb-aee1-97ffb1ce0bb1" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ipAddr = param(&apos;UDM/hostname&apos;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="2ed5f494-0357-43dc-ac29-7dd76f0eb9ea" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="1fc696d2-d104-48b1-8533-3ec77d2e2f98" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ipAddr = param(&apos;UDM/ip_address&apos;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="17c9bf48-6581-46ea-be80-b24220ea9ee6" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Information:Deleting sub [sub] from UDM</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <message inherit="false">Deleting sub [sub] from UDM</message>
                            </applicationProperties>
                            <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                        </item>
                        <item guid="ce3f3e72-b531-4f29-aa58-ff3318520ddd" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ldap_port = param(&apos;UDM/ldap_port&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                        </item>
                        <item guid="46ccb7b3-7b66-4dbb-829d-4350bd623159" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ldap_password = param(&apos;UDM/ldap_password&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                        </item>
                        <item guid="d88aff4a-af73-41ad-9ea4-d37383bcbcb7" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ldap_cn = param(&apos;UDM/ldap_cn&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                        </item>
                        <item guid="27592c19-fd82-4e5b-b9ce-c68cb2a4279f" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ldap_ip = param(&apos;UDM/ldap_ip&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                        </item>
                        <item guid="614421d3-c3e9-436d-bc2f-d2da067b0234" action="open" session="UDM">
                            <command>
                                <body>project://di_[param(&apos;UDM/make&apos;)]/session_profiles/UDM.ffsp</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                <sessionProperties type="com.fnfr.svt.applications.ssh.documents.SSHProperties">
                                    <ipAddress inherit="false">[ipAddr]</ipAddress>
                                </sessionProperties>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                            <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/UDM.ffsp"/>
                        </item>
                        <item guid="957126f1-4c61-4765-9567-71346caee3d4" action="delete_supi" session="UDM" useFieldsInCommand="false">
                            <command>
                                <body>-ldap_ip $ldap_ip -ldap_cn $ldap_cn -ldap_password $ldap_password -ldap_port $ldap_port -supi $sub</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/UDM.ffsp"/>
                        </item>
                        <item guid="a5a3eb60-d9bd-4f02-b123-c634717bad9d" action="close" session="UDM">
                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                            <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
        <item name="restoreSubUDM" isPublic="true">
            <steps>
                <item guid="c963c252-4bd8-45d8-8a69-5f24d663cedf" action="if" useFieldsInCommand="false">
                    <command>
                        <body>param(&apos;UDM/hostname&apos;) != &quot;&quot;:</body>
                    </command>
                    <nestedSteps>
                        <item guid="b7c76070-7531-4917-993f-5277a1e830cc" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ipAddr = param(&apos;UDM/hostname&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="a5fe3510-9fb0-493e-a1d9-92403200bb5b" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="4c843058-1d53-4f6f-8e9f-3edd004d6f6a" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ipAddr = param(&apos;UDM/ip_address&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="84f9c62c-60c1-4887-97ab-20c67f0e9953" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>supi = param(&apos;LS_Nodal_favorite_params/ts0/tc0/UeNas5gMmSupi&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
                <item guid="5dd7cf88-8c90-4485-9eb9-2814f297b5b9" action="message" useFieldsInCommand="false">
                    <command>
                        <body>Information:Recovering saved sub [supi] on UDM</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                        <message inherit="false">Recovering saved sub [supi] on UDM</message>
                    </applicationProperties>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
                <item guid="d84f0ea1-724c-46ba-b054-e60ac50968dd" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>ldap_port = param(&apos;UDM/ldap_port&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
                <item guid="8053129d-b0c1-4102-bcbe-af50ecf9cea2" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>ldap_password = param(&apos;UDM/ldap_password&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
                <item guid="5ee71599-98ac-4d74-b13b-0dc91fea90bc" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>ldap_cn = param(&apos;UDM/ldap_cn&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
                <item guid="45329aff-45e5-4ee9-9aa0-07b67107cb03" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>ldap_ip = param(&apos;UDM/ldap_ip&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
                <item guid="fdc47ac6-d423-478d-a854-095a100cb229" action="open" session="UDM">
                    <command>
                        <body>project://di_[param(&apos;UDM/make&apos;)]/session_profiles/UDM.ffsp</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                        <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                        <sessionProperties type="com.fnfr.svt.applications.ssh.documents.SSHProperties">
                            <ipAddress inherit="false">[ipAddr]</ipAddress>
                        </sessionProperties>
                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    </applicationProperties>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/UDM.ffsp"/>
                </item>
                <item guid="639f5fb8-a8af-4922-952e-53f0c76d0d9d" action="restore_supi" session="UDM" useFieldsInCommand="false">
                    <command>
                        <body>-ldap_ip $ldap_ip -ldap_cn $ldap_cn -ldap_password $ldap_password -ldap_port $ldap_port -supi $supi</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/UDM.ffsp"/>
                </item>
                <item guid="feb35200-ea96-48e4-a6cf-53093e8eeee0" action="close" session="UDM">
                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                    <advancedProperties defaultSessionProfile="project://di_Nokia/session_profiles/AMF.ffsp"/>
                </item>
            </steps>
        </item>
    </procedures>
</testCase>
