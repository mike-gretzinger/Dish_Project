<?xml version="1.0"?>
<testCase version="9.1.1.202209201235">
    <general>
        <language>Python</language>
    </general>
    <procedures>
        <item name="main">
            <steps>
                <item guid="132f118e-b6f3-430d-ab7b-245e736840fb" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Import libraries</body>
                    </command>
                    <nestedSteps>
                        <item guid="f23036c3-e0b4-44f9-a2da-8ba954e3e3a8" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>import json</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a9f37063-4239-4b61-851c-33ace6c897e9" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>import copy</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="69326f5f-9347-42e4-a6d9-0310523cf94c" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>import tempfile</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="3f99dcfe-0ac1-4741-8cdb-61a6f68a109f" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>from datetime import datetime</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="5f68ea6d-9c99-46b7-827e-4207c922ca6f" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Set Landslide connection data</body>
                    </command>
                    <nestedSteps>
                        <item guid="b355d494-3c14-4165-8726-7c643440830e" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>landslide_addr = param(&apos;landslide/ls_Address&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="8e5831e7-3b9f-4d90-b658-723642ac5bfa" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tas_api_username = param(&apos;landslide/ls_SessionUser&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="acf431bf-a7a8-4fc6-93c9-15410092f964" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tas_api_password = param(&apos;landslide/ls_SessionPass&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e7e6fcd1-2a3f-480c-b18c-d90afe079610" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>libraryName = param(&apos;landslide/ls_libraryName&apos;).replace(&apos;/&apos;,&apos;_&apos;).replace(&apos; &apos;, &apos;&apos;).replace(&apos;{&apos;, &apos;&apos;).replace(&apos;}&apos;, &apos;&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="48a5e475-bc18-4952-b2f7-9dbe2984fc22" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>libraryName</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a204ba48-501d-4d17-aa58-6e5280a8d0a3" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testName = param(&apos;landslide/ls_testName&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="7e6b21a6-f5e9-4b3b-a2ef-af1258902759" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testName</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="5f10dc7a-6e06-4d33-9931-0298ed9e76ef" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Start iTest Landslide Session</body>
                    </command>
                    <nestedSteps>
                        <item guid="73978937-8926-4f51-b4f3-28ce3f1ce4ed" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tas_api_url = &quot;http://&quot; + landslide_addr + &quot;:8080/api&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="50e2d3ee-dad4-496d-86ad-1297cada5202" action="open" session="s1">
                            <command>
                                <body>project://di_Landslide/session_profiles/landslide_rest.ffsp</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>success()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == &quot;true&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message>Start Landslide Session at: [tas_api_url]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message> Can start the landslide session [tas_api_url]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="AbortTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.spirent.itest.applications.landsliderest" transferableType="com.spirent.itest.applications.landsliderest.properties.LandslideRestSessionProperties" landslideRESTAPI="[tas_api_url]" landslideRESTAPI.inherit="false">
                                    <authentication transferableToolId="com.spirent.itest.applications.landsliderest" transferableType="com.spirent.itest.applications.landsliderest.properties.LandslideRestAuthenticationProperties" user="[tas_api_username]" user.inherit="false" password.masked="true" password="ay9c4wyVbDQo4KIXLFZW77RKP6sdfKIs" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                </sessionProperties>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                        </item>
                        <item guid="c1b328d2-03b0-4703-8a3a-e8aaaf8aa4f1" action="sleep">
                            <command>
                                <body>2</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="f91e0dd4-4b49-43a7-a87b-eb6dd5dd6474" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get library id from library name</body>
                    </command>
                    <nestedSteps>
                        <item guid="7205e676-b01a-45d5-b122-400afe27ffb6" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>libraryName</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="752a1b66-d519-433a-961d-eb194f57cebf" action="ShowAllLibraries" session="s1">
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true">[libraryName]()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value != &quot;&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>message = &quot;Library Name &apos;{0}&apos; exists&quot;.format(libraryName)</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>library_id=value</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>message = &quot;Library Name &apos;{0}&apos; does not exist&quot;.format(libraryName)</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>[message]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="ExitExecution">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>libraries</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <nestedSteps>
                                <item guid="46fd135c-5d35-4063-95dd-fd136a76068e" action="message" useFieldsInCommand="false">
                                    <command>
                                        <body>Information: Library Name [libraryName] exists</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <message inherit="false"> Library Name [libraryName] exists</message>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="ShowAllLibraries" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main"/>
                        </item>
                        <item guid="50bd7cbe-59b3-4830-8d32-20739f678fa2" action="RetrieveTestSession" session="s1">
                            <command>
                                <body>-library [library_id] -name [testName]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query sub="true">handle()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value != &quot;&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>message = &quot;Session handle &apos;{0}&apos; exists&quot;.format(libraryName)</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>session_hendle = value</statement>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>message = &quot;Session handle &apos;{0}&apos; does not exist&quot;.format(libraryName)</statement>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>[message]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="ExitExecution">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>testHendle</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="RetrieveTestSession" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" library="[library_id]" library.inherit="false" name="[testName]" name.inherit="false"/>
                        </item>
                        <item guid="7bd46d9b-3f8f-482e-a20d-c651f8aa46c6" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Information: Session handle [session_hendle] exists</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <message inherit="false"> Session handle [session_hendle] exists</message>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="d2ad477a-8cae-43f7-a356-6be0c4f796cc" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get Test Server IDs from TAS to verify they exist</body>
                    </command>
                    <nestedSteps>
                        <item guid="ef1ac2f4-7833-47fd-a5a2-eab32c237e03" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testServerNames = [] ; i = 1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c3d38fd7-1e34-458b-b6a7-451679f24bb3" action="while" useFieldsInCommand="false">
                            <command>
                                <body>True:</body>
                            </command>
                            <nestedSteps>
                                <item guid="5d75a41b-f8ce-4947-a1e4-772f80ff7812" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>testServerNames.append(param(&apos;landslide/ls_testServers/item[&apos;+str(i)+&apos;]/TestServerName&apos;))</body>
                                    </command>
                                    <eventHandlers>
                                        <item name="OnInterpreterError">
                                            <item actionId="Break">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </item>
                                    </eventHandlers>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="eaf3e733-714e-4409-9646-56b78f2be29c" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>i = i + 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="eccf1c75-9483-40e7-ba86-d13a88a027d4" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testServerNames</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="02b08477-dfc4-45f9-aad8-21ce4122033b" action="if" useFieldsInCommand="false">
                            <command>
                                <body>type(testServerNames) != list:</body>
                            </command>
                            <nestedSteps>
                                <item guid="88f95429-ff36-4ef0-99be-c5960dd6b2d4" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>testServerNames =[testServerNames]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="2b356323-c3a2-4f36-9169-cb1fd0da43fc" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_list_dict = []</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b6e93710-770a-4383-91c5-2d0d65edf7c0" action="ShowTestServers" session="s1">
                            <postProcessing>
                                <storeResponseAt>testServers</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="ShowTestServers" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main"/>
                        </item>
                        <item guid="af0c8410-4e68-42d7-83ae-73d66b1243d4" action="for" useFieldsInCommand="false">
                            <command>
                                <body>ts in testServerNames:</body>
                            </command>
                            <nestedSteps>
                                <item guid="97b58fdf-d854-4724-8a89-6da7d12423f9" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ff1a9cfb-58c8-4520-8d8d-91e02ab3063e" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>qury = &quot;Result/testServers//..[name=&apos;&quot;+ts+&quot;&apos;]/id&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="0fe6ae14-e83a-4af4-a6c7-919f3c6005fc" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>qury</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="9dff103d-a6e2-4c4a-ba1d-074583fbddf5" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_num = query(&quot;testServers&quot;, qury)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ce5b9849-25a4-4a8d-bdc3-a3619ce9016e" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_num</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="11b98cc1-62ca-4add-ae21-92515ccfb14b" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_num == &apos;&apos;:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="eccea434-5bbd-4dcd-bf3f-61eea50589c5" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Error:Test Server &apos;[ts]&apos; not found in target Landslide. Exiting.</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <severity inherit="false">Error</severity>
                                                <message inherit="false">Test Server &apos;[ts]&apos; not found in target Landslide. Exiting.</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="fcec5478-c4b5-43a1-bae1-d83493a61305" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Fail the test</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="none">
                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>1 == 1</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="FailTest">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="56a22391-eda5-40fb-b150-20f60d53e12e" action="close" session="s1">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="82a34bf7-0e3a-4665-86e2-9bc81a764b80" action="exit" useFieldsInCommand="false">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="217225a3-cd4a-416c-a4e4-38338b3bdba2" action="message" useFieldsInCommand="false">
                                    <command>
                                        <body>Information: Test server id for [ts] is [ts_num]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <message inherit="false"> Test server id for [ts] is [ts_num]</message>
                                    </applicationProperties>
                                </item>
                                <item guid="5f164f12-e9ae-400f-ac62-61a66d5aef59" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_list_dict.append({&apos;tsName&apos;:ts,&apos;tsId&apos;:int(ts_num)})</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b6038e31-d87c-4b3a-94f8-943ebb5e9849" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_list_dict</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="36772f84-cdfb-48c3-be75-06e4de3eb205" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Read base config</body>
                    </command>
                    <nestedSteps>
                        <item guid="bcb5c7a4-16f0-4e7d-8326-78f691ef2e60" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tn = testName.replace(&quot; &quot;,&quot;+&quot;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="cdcc0520-6589-43d9-8d87-586074e62a29" action="get_test_session_data" session="s1" useFieldsInCommand="false">
                            <command>
                                <body>-test_session_name [tn] -library_id [library_id]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>count(mapped/Json/tsGroups/item/tsId)</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>ts_count</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>test_session_json</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="24e53552-80fe-4c23-b6a0-56b67be4797e" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_count = int(ts_count)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="8164a865-7cd6-4e75-9766-4c95217db22a" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Create temp directory for csv</body>
                    </command>
                    <nestedSteps>
                        <item guid="bba59186-579d-465e-8b70-d8e1e6a20af6" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tdir = tempfile.TemporaryDirectory()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="631faacd-e8e3-4b07-9680-b4f8012e35c5" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Create CSV</body>
                    </command>
                    <nestedSteps>
                        <item guid="d28083e3-938f-4cd6-adbe-9f1091f3bf5c" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>file_name = info(&apos;testCaseName&apos;, &apos;current&apos;)+&apos;_&apos;+datetime.now().strftime(&apos;%Y_%m_%d_%H_%M.csv&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="d6d60343-a524-49b4-94fc-513f2f70a8bc" action="eval" skip="true" useFieldsInCommand="false">
                            <command>
                                <body>file_name = info(&apos;testCaseFile&apos;, &apos;current&apos;, &apos;path&apos;)[0:-5]+&apos;_&apos;+datetime.now().strftime(&apos;%Y_%m_%d_%H_%M.csv&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="80497be8-2e15-4ae6-b2c5-d753b0e24abb" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>file_name</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="420e1659-e217-4972-bb48-0c57cc72184e" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>csv_file =  open(tdir.name+&apos;\\\\&apos;+file_name, &apos;w&apos;, newline=&quot;\\n&quot;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="4d280514-748c-4fc7-a4ba-2dc96d77a88a" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>csv_file.write(&apos;Iteration,Landslide Report,Time,Call Rate (calls/sec),Call Time (s),Run Time (s),UE Count,5G Reg Complete,5G Reg Rejected,PDU Accepts,PDU Rejects,SIP Reg Complete,SIP Reg Failures,SIP Reg Retries,SIP Calls Attempted,SIP Call Success,SIP Call Failure,SIP Call Success Pct.,SIP Average Call Setup (ms),SIP Minimum Call Setup (ms),SIP Maximum Call Setup (ms)\\n&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="7fa212b7-0f3e-404e-a41f-78732598b949" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Begin looping through rates and count</body>
                    </command>
                    <nestedSteps>
                        <item guid="a27bbf12-5d2d-4fe3-9729-cd8df53d7ae7" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>iterations = param(&apos;RateList&apos;).split(&apos;,&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c4182a0a-60ae-419c-b5ef-de50bb340609" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Information:Beginning SIP registration test with [len(iterations)] iterations</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <message inherit="false">Beginning SIP registration test with [len(iterations)] iterations</message>
                            </applicationProperties>
                        </item>
                        <item guid="165e5175-4113-40d4-91de-f9bc69ffbb46" action="call" useFieldsInCommand="false">
                            <command>
                                <body>project://ai_Dish_Production/DISH_5G/test_cases_scale/procedures/scale_procedures.fftc#getParameterGroupDict(param_path=&quot;global_overwrite_params&quot;)</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>global_param_dic</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e3cea927-7441-4b0a-bb97-2ae15670a904" action="call" useFieldsInCommand="false">
                            <command>
                                <body>project://ai_Dish_Production/DISH_5G/test_cases_scale/procedures/scale_procedures.fftc#getParameterGroupDict(param_path=&quot;landslide/ls_testServers&quot;)</body>
                            </command>
                            <postProcessing>
                                <storeResponseAt>testserver_param_dic</storeResponseAt>
                                <storeResponseText>true</storeResponseText>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="77be0985-8371-48d5-a563-a06080b31afc" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>global_param_dic</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="75527a73-a935-4b4f-8ec9-44658a31c96d" action="for" useFieldsInCommand="false">
                            <command>
                                <body>i in range(0, len(iterations)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="322e1619-28b1-4790-b72c-1f9e147d87ff" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>test_session_dic = json.loads(test_session_json)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="438c043f-0836-4320-8081-8f4b4b0a738c" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>rate = int(iterations[i])</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="0b1837f2-bf49-4ed7-b821-629236164673" action="message" useFieldsInCommand="false">
                                    <command>
                                        <body>Information:Iteration [i+1] with SIP call rate [rate]/sec</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <message inherit="false">Iteration [i+1] with SIP call rate [rate]/sec</message>
                                    </applicationProperties>
                                </item>
                                <item guid="f409c744-f4ab-4300-ba6f-a8ebc565bda3" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Update Test Server IDs</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="dafe356d-8ad2-4432-ad0c-00ec231b7c53" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;tsId&quot;] = ts_list_dict[0][&quot;tsId&quot;]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f66c77e9-2241-432a-a3a3-2a123bbbff5b" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][1][&quot;tsId&quot;] = ts_list_dict[1][&quot;tsId&quot;]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e0652557-05e7-4861-a04a-99fb5acb42d9" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Check to see if sub count is too big</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="f7f4c41e-edd8-41b7-8fe4-058c23efbf54" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>sub_count_total = 2*rate*(param(&apos;CallLength&apos;)+param(&apos;CallPending&apos;))</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="bfefc9d5-2063-41be-ac24-74b987743be2" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>sub_count_total &gt; int(param(&apos;MaxSubs&apos;)):</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="e39a10e3-0108-4d8a-a23e-7deffb12604e" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Throw error and continue</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="9cb5f22d-77f2-4ac2-8127-da5c576c0817" action="message" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Error:Iteration FAILED, not enough subscribers to &quot;Ensure Constant Rate Setting&quot;, number required = [sub_count_total], number available = [param(&apos;MaxSubs&apos;)]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                        <severity inherit="false">Error</severity>
                                                        <message inherit="false">Iteration FAILED, not enough subscribers to &quot;Ensure Constant Rate Setting&quot;, number required = [sub_count_total], number available = [param(&apos;MaxSubs&apos;)]</message>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="a1d6f76c-fc6d-41e5-b7f8-1daec4454181" action="continue" useFieldsInCommand="false">
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="9f8cffcb-8a93-4acd-8309-b71ff51ce98e" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Configure runtime &amp; timeout</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="739f730a-b591-4ff6-a27e-32df8a549a29" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>param(&apos;global_overwrite_params/UeRegRate&apos;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="eb90e17e-7853-4e2b-9e4d-f2921de1649c" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>runtime = int(param(&apos;RunTime&apos;))+(sub_count_total/int(2*param(&apos;global_overwrite_params/UeRegRate&apos;,25)))</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="9330c548-cfe8-42df-98e5-b5bad2ab3b31" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>timeout = int(runtime*int(param(&apos;landslide/timeout_multiplier&apos;,2)))</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="033fffd2-0b2f-4a6f-a943-f3cf1f4b3c1c" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;steps&quot;][4][&quot;delaySec&quot;] = int(runtime)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="4fe925e7-c48c-4608-a34e-9480dcdcad93" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Global parameter replacing with dictionary parameters</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="a571a130-2744-420f-b88e-9c33920f139e" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;].update(global_param_dic[&quot;global_overwrite_params&quot;])</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="a348a438-75db-4a01-b46e-e549d40016ba" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][1][&quot;testCases&quot;][0][&quot;parameters&quot;].update(global_param_dic[&quot;global_overwrite_params&quot;])</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="3fdf16e6-ac68-4add-b421-5e0c7fc37f82" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>json.dumps(test_session_dic)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="471534d1-5a32-48f2-b0b3-ece13b0bcdf1" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Inserting Test Server Parameters</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e5807edb-6cc3-4a9b-94d0-269540b0d751" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;].update(testserver_param_dic[&apos;ls_testServers&apos;][0][&quot;parameters&quot;])</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="48a176fe-45dd-4b73-975c-1818a56c8b06" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][1][&quot;testCases&quot;][0][&quot;parameters&quot;].update(testserver_param_dic[&apos;ls_testServers&apos;][1][&quot;parameters&quot;])</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f2ea1690-f052-473a-b025-d55caa32b3e8" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>json.dumps(test_session_dic)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="b2aef58c-387d-4aca-bace-30c19b1d0d42" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Update config with iteration rate, call length and call pending</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="9787886c-ae39-4dd6-9eaa-bc81fd5a9d4f" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;UeCallEstabRate&quot;]=int(rate/2)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="45f660e9-9389-448f-95b1-54d42e304f4e" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;UeCallReleaseRate&quot;]=int(rate/2)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="cb9161e3-7908-4d52-bac4-2810e7a7af94" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;UeCallLength&quot;]=param(&apos;CallLength&apos;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="2a8133e0-eb5a-4d53-b6ff-8b79527fc21a" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;UeCallPending&quot;]=param(&apos;CallPending&apos;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="db7a5a64-0bf1-45f1-b26d-42e240fc20a3" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][1][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;UeCallEstabRate&quot;]=int(rate/2)+rate%2</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="b1f146b7-5175-4e47-b041-cc0f4c0c6472" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][1][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;UeCallReleaseRate&quot;]=int(rate/2)+rate%2</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="8ccecd80-8af7-433e-8328-31c54114f3bc" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][1][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;UeCallLength&quot;]=param(&apos;CallLength&apos;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="2d81ec24-901a-4bfc-b031-027464d55138" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][1][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;UeCallPending&quot;]=param(&apos;CallPending&apos;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="7a9cd3a2-060f-4a19-9bb5-bf3734032d22" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>json.dumps(test_session_dic)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="1bd7ec34-453d-457f-ad40-7089a43bde5f" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Set sub counts</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="2f00afb4-7a36-4db0-93aa-6095ca9095b5" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>tc0_cnt = 2*test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;UeCallEstabRate&quot;]*(param(&apos;CallLength&apos;)+param(&apos;CallPending&apos;))</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="83d1c9ab-60a2-4acf-a9ee-fe0ba4fba688" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;Sessions&quot;]=tc0_cnt</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="d2c635e6-0385-4513-b7d2-23431b3b028c" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>tc1_cnt = 2*test_session_dic[&quot;tsGroups&quot;][1][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;UeCallEstabRate&quot;]*(param(&apos;CallLength&apos;)+param(&apos;CallPending&apos;))</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="c4e6e9ba-2173-44c5-bd96-305ad3722f41" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][1][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;Sessions&quot;]=tc1_cnt</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="9deba85b-e9a6-4282-8e44-f8f857ecccc5" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Update TS 1 SUPI, Phone &amp; IMS IMSI</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="f816ef55-fdcb-401f-ae77-52e2cb531460" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>pull out number and increment SIP IMSI example 3133409000#(N25002:5)</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="1450d808-3eed-4f42-a4bd-c326aa6f418f" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pattern = r&apos;(?&lt;=#\\(N)\\d+(?=:\\d+\\))&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="a474a1db-983e-44ae-942e-61a2404a9af0" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>match = re.search(pattern, test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;ImsSipSubsImsi&quot;])</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="3981fe47-7171-4614-b661-dfaf82091a91" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>new_val = int(match.group(0)) + tc0_cnt</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="712cafcf-57b4-467b-80e1-a4378d481246" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][1][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;ImsSipSubsImsi&quot;] = test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;ImsSipSubsImsi&quot;].replace(match.group(0),str(new_val))</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="d00745f4-54fc-4589-b3e8-4a0449e957f8" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>pull out number and increment SIP user public/private example +130310#(N25001:5)</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="dbc2d54a-8408-4a29-8d23-73183df972a7" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>match = re.search(pattern, test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;ImsSipSubsPublicUserName&quot;])</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="468127f9-a35e-4e5e-ac38-ea33b5ab6fb4" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>new_val = int(match.group(0)) + tc0_cnt</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="89433149-74e6-4c5c-a5fc-875c7cc3fc11" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][1][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;ImsSipSubsPublicUserName&quot;] = test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;ImsSipSubsPublicUserName&quot;].replace(match.group(0),str(new_val))</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="22ad78b3-c726-4e16-b848-9246091dd8da" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][1][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;ImsSipSubsPrivateUserName&quot;] = test_session_dic[&quot;tsGroups&quot;][1][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;ImsSipSubsPublicUserName&quot;]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="0d05e093-838c-4429-af37-01654f9da2bb" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Increment SUPI</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="9ffd81e9-2ab7-4ca4-8646-3e35d02552f5" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test_session_dic[&quot;tsGroups&quot;][1][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;UeNas5gMmSupi&quot;] = str(int(test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;UeNas5gMmSupi&quot;]) + tc0_cnt)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="9f9bf71c-2bfb-4e81-bcb8-09d5e079e845" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>pull out number and increment SIP phone example 3133409000#(N25002:5)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="68e9029e-2e08-4213-96db-137175abf114" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Update GNB ID for TS 1</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="374345f2-c14a-4293-8e56-477c49982b9e" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>test_session_dic[&quot;tsGroups&quot;][1][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;GnbId&quot;]=int(test_session_dic[&quot;tsGroups&quot;][0][&quot;testCases&quot;][0][&quot;parameters&quot;][&quot;GnbId&quot;])+16</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="0b5d5d65-7a49-4810-a08e-fdafe5bb6db7" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Put test session dict into JSON for upload to Landslide</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="cbc539af-2a17-49e7-b660-950b34eea33b" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>json.dumps(test_session_dic)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="37f2238c-c872-4262-ae20-964f0339aec2" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>run_data = json.dumps(test_session_dic)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="801c1a1d-d040-4eee-984a-65038c01273d" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Run Test wait for complete or timeout</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="d4d7c96a-71a3-4630-a70a-fe21f01b73c8" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:-Starting Test</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">-Starting Test</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="f2379a1e-87c5-4951-ba5c-0f1d673dcfaf" action="run_test_using_run_data" session="s1" useFieldsInCommand="false">
                                            <command>
                                                <body>-run_data [run_data] -show_run_message false -show_warning false</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Json/runId</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>running_test_id</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f67ace33-8177-4d1a-9447-40c70875ce91" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:-Test Running, test ID = [running_test_id], SIP</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">-Test Running, test ID = [running_test_id], SIP</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="24b895a3-56db-48fc-8976-97277020cebf" action="waiting_for_test_get_expected_state" session="s1" useFieldsInCommand="false">
                                            <command>
                                                <body>-running_test_id $running_test_id -expected_state &quot;COMPLETE&quot; -unexpected_states &quot;ERROR;COMPLETE_ERROR&quot; -time_out $timeout</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>responseLine()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>state</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="29cc2295-5b45-4ba1-9187-2882285a208a" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:-Test [state]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">-Test [state]</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="be0ac30a-bffa-48e3-85d6-575554e89f40" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>state != &apos;COMPLETE&apos;:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="aaffc19f-4aa1-4da5-94a0-7dd217e0a7c7" action="message" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Error:Test timed out waiting to complete.</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                        <severity inherit="false">Error</severity>
                                                        <message inherit="false">Test timed out waiting to complete.</message>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="3c2e8426-1299-4c9f-8c94-9c70da5e0ba8" action="break" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Information:</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8ea5099d-0202-452e-abd7-6ca01e487ff8" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Get Results</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ce9ba1fe-eb30-4d6d-a4c5-fb8c65a9e63a" action="Custom" session="s1">
                                            <command>
                                                <body>-requestMethod GET -dataType json -rawResponse true -url [tas_api_url]/runningTests/[running_test_id]/measurements/favorites</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>favorites_measurements</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="[tas_api_url]/runningTests/[running_test_id]/measurements/favorites" url.inherit="false"/>
                                        </item>
                                        <item guid="aac9ff86-0de1-4b61-8eae-10a3b0cae61b" action="ShowResults" session="s1">
                                            <command>
                                                <body>-runningTestId [running_test_id]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>resultFilesList0()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>csv_url</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="ShowResults" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" runningTestId="[running_test_id]" runningTestId.inherit="false"/>
                                        </item>
                                        <item guid="0a77bbd4-78a0-46e5-bed4-3318f0931f52" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>replace ip in url w/ IP from params.</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="d3325e25-13b1-4985-8b48-b626ed6e772e" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>csv_url_list = csv_url.split(&apos;/&apos;)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="10903222-ad24-4098-a353-8b9c9461ffc9" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>csv_url_list[2] = param(&apos;landslide/ls_Address&apos;)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="1172380c-b832-4ee3-b5d2-11df21288602" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>csv_url = &apos;/&apos;.join(csv_url_list)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="e6ee9aa2-9c2a-489b-98c4-3877e5e7bb91" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>csv_url</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="53f5d0b7-acfe-4095-beaa-27a02be25829" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>download csv, convert to json and load it into dictionary</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="d37fb968-689b-49ab-9067-387e194c8bbf" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>project://ai_Dish_Production/DISH_5G/Utilities/dish_tc_utilities.fftc#download_landslide_files_by_pattern_to_temp_dir(file_pattern=&apos;csv&apos;, results_url_list=[csv_url])</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>file_list</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="9733b1e2-f57e-4574-b124-e58bbdd5e26d" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>project://ai_Dish_Production/DISH_5G/Utilities/dish_tc_utilities.fftc#get_csv_tables_to_json(csv_file=file_list[0])</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>json_file</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="09438976-41b4-4841-b91c-fd8184fe56cb" action="readFile">
                                                    <command>
                                                        <body>file:/[json_file]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>csv_json</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.ReadFilePropertyGroup"/>
                                                </item>
                                                <item guid="0bcba8c4-9274-435f-b80b-1abc3fe74697" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>results_dict = json.loads(csv_json)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="55280d18-36d3-4cbf-a4d6-849e991a7202" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Get MM/SM reg counts from CSV </body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="f4873d0e-0623-4bc0-865c-12ad8283d3ad" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>project://ai_Dish_Production/DISH_5G/test_cases_scale/procedures/scale_procedures.fftc#getLastValuesCsvDict(input_results_dict=results_dict, group=&apos;MM&apos;, item_list=[&apos;Registration Completes&apos;,&apos;Registration Rejects&apos;])</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>mm_dict</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="4b5a4840-88dd-4c88-a198-e2e03583926c" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>project://ai_Dish_Production/DISH_5G/test_cases_scale/procedures/scale_procedures.fftc#getLastValuesCsvDict(input_results_dict=results_dict, group=&apos;SM&apos;, item_list=[&apos;Pdu Establishment Accepts&apos;,&apos;Pdu Establishment Rejects&apos;])</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>sm_dict</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="06e957a6-c497-4106-a15f-561875578599" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>convert floats to int</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="a2238376-4a1f-4216-910e-1c186de984b7" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>item in [&apos;Registration Completes&apos;,&apos;Registration Rejects&apos;]:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="6f8576a1-f19c-4eba-8f21-211d0efe91b9" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>mm_dict[item] = int(float(mm_dict[item]))</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="dd0780ae-0359-4c10-b2cd-e1775e4416ba" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>item in [&apos;Pdu Establishment Accepts&apos;,&apos;Pdu Establishment Rejects&apos;]:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="4a238e5f-423e-4df3-9224-eb09930c1fbc" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>sm_dict[item] = int(float(sm_dict[item]))</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="e7f87de8-e67e-42b8-a59a-8be4188769fc" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>json.dumps(mm_dict)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="14cd0bc5-fc82-4598-8a71-2ba9e1d4b7b3" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>json.dumps(sm_dict)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="8535ae71-353d-43d8-8f0b-f13a6a9ffb09" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Get SIP reg counts from CSV </body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="584eca54-dd82-4c3f-9ed4-5ae8de80ffec" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>project://ai_Dish_Production/DISH_5G/test_cases_scale/procedures/scale_procedures.fftc#getLastValuesCsvDict(input_results_dict=results_dict, group=&apos;Gm|Main&apos;, item_list=[&apos;SIP Registration Setup Count&apos;,&apos;SIP Registration Failures&apos;,&apos;SIP Registration Retries&apos;,&apos;SIP Call Successes&apos;,&apos;SIP Call Failures&apos;,&apos;SIP Average Call Setup (micro-sec)&apos;,&apos;SIP Minimum Call Setup (micro-sec)&apos;,&apos;SIP Maximum Call Setup (micro-sec)&apos;])</body>
                                                    </command>
                                                    <postProcessing>
                                                        <storeResponseAt>gm_dict</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="b600da3f-ef8d-4cc8-ac5a-84f90f1ca970" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>convert floats to int</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="eec0dbe9-71bf-4ffb-9ff4-1a1c984b2398" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>item in [&apos;SIP Registration Setup Count&apos;,&apos;SIP Registration Failures&apos;,&apos;SIP Registration Retries&apos;,&apos;SIP Call Successes&apos;,&apos;SIP Call Failures&apos;,&apos;SIP Average Call Setup (micro-sec)&apos;,&apos;SIP Minimum Call Setup (micro-sec)&apos;,&apos;SIP Maximum Call Setup (micro-sec)&apos;]:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="18789a9e-0d38-4b5f-80a4-2bed3bf7b131" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>gm_dict[item] = int(float(gm_dict[item]))</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="11661aba-6514-4fb4-b774-b4c49b99b7b1" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>json.dumps(gm_dict)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="48a0bdde-d47b-4011-9135-29eb3e974bb0" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>For SIP reg count grab the count from the middle of the test because something FUNKY is happening with this count at the end of test</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="d4db38b2-9e93-4781-9706-d32a4617e8a3" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>get middle number</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="9e2f2e1e-2c60-4835-8710-4de3a5942440" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>[*results_dict[&apos;Gm|Main&apos;]]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="703ec59b-4a89-4bdb-9912-2f47cba39390" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>middle_num = int(int([*results_dict[&apos;Gm|Main&apos;]][-2])/2)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="e1697eea-58d2-48fd-a5b2-138d96c750c5" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>middle_num</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="2a65a58b-5b12-4122-9434-917cd80d6e09" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>overwrite gm SIP Reg count from end w/ count from middle</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="9f864674-b3c3-4733-b800-cbf6912ec976" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>indx = int([i for i, s in enumerate(results_dict[&apos;Gm|Main&apos;][&apos;headers&apos;]) if &apos;SIP Registration Setup Count&apos; in s][0])</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="91f4716c-9486-4b85-a3cf-f1507f080223" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>gm_dict[&apos;SIP Registration Setup Count&apos;] = int(float(results_dict[&apos;Gm|Main&apos;][str(middle_num)][indx]))</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="d653e5b3-9bc4-428c-8864-05bdf7ce5163" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Report results</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="9223a1bb-d512-446d-8285-29d05eb5dc7b" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Output text</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="5bc4cc24-dbd4-4287-b6ff-36552a9a620f" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>total_calls= gm_dict[&apos;SIP Call Successes&apos;]+gm_dict[&apos;SIP Call Failures&apos;]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="7f95a576-b8d8-44d1-a36a-d750f4b5e547" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>total_calls == 0:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="86dd913f-a109-42ca-8e3a-8b93f798bb8b" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>pct_good = 0</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="77deaebf-dd9a-465f-9111-f12b9e719c9b" action="message" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Error:-Registration Failure</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                        <severity inherit="false">Error</severity>
                                                                        <message inherit="false">-Registration Failure</message>
                                                                    </applicationProperties>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="d4b15284-c05d-4df0-a1a8-52ca0ac9402a" action="else" useFieldsInCommand="false">
                                                            <nestedSteps>
                                                                <item guid="38615648-5de2-4ecb-9953-c6a92df2d64b" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>pct_good=100*(gm_dict[&apos;SIP Call Successes&apos;]/total_calls)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="f661ccc4-c4b7-4738-8839-5cfc85b5f860" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>total_reg = gm_dict[&apos;SIP Registration Setup Count&apos;]+gm_dict[&apos;SIP Registration Failures&apos;]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="70725c84-9d06-40a1-b49f-7844ca123037" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>setup_avg = int(gm_dict[&quot;SIP Average Call Setup (micro-sec)&quot;]/1000)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="40510f52-ea94-4656-8e0d-1640e9d67c55" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>setup_min = int(gm_dict[&quot;SIP Minimum Call Setup (micro-sec)&quot;]/1000)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="b6552d52-708c-4ee1-b7f6-9349c3eb21b6" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>setup_max = int(gm_dict[&quot;SIP Maximum Call Setup (micro-sec)&quot;]/1000)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="c977e99c-9768-43da-9f7b-f609ceda897f" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--Subscribers = [sub_count_total]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <severity inherit="false" defaultValue=""/>
                                                                <message inherit="false">--Subscribers = [sub_count_total]</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="a5637171-4c8c-4295-9b1d-beed9795e395" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--5G Registrations Success = [mm_dict[&apos;Registration Completes&apos;]]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <severity inherit="false" defaultValue=""/>
                                                                <message inherit="false">--5G Registrations Success = [mm_dict[&apos;Registration Completes&apos;]]</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="8a0bec1b-af7b-4366-b37d-437bb2bd4774" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--PDU Registrations Success = [sm_dict[&apos;Pdu Establishment Accepts&apos;]]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <severity inherit="false" defaultValue=""/>
                                                                <message inherit="false">--PDU Registrations Success = [sm_dict[&apos;Pdu Establishment Accepts&apos;]]</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="535afc5e-b02f-41a8-9acd-1a4de613b9ad" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--SIP Registrations Success = [gm_dict[&apos;SIP Registration Setup Count&apos;]]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <severity inherit="false" defaultValue=""/>
                                                                <message inherit="false">--SIP Registrations Success = [gm_dict[&apos;SIP Registration Setup Count&apos;]]</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="74b769d8-c41f-4502-8c11-790d2c620e8e" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--SIP Registration failures = [gm_dict[&apos;SIP Registration Failures&apos;]]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <severity inherit="false" defaultValue=""/>
                                                                <message inherit="false">--SIP Registration failures = [gm_dict[&apos;SIP Registration Failures&apos;]]</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="b728b882-aeec-4d77-8c79-03d3917b2af1" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--SIP Calls Attempted = [total_calls]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <message inherit="false">--SIP Calls Attempted = [total_calls]</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="57278c96-52a3-4fef-992b-8343c6441cb9" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--SIP Call Success = [gm_dict[&apos;SIP Call Successes&apos;]]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <message inherit="false">--SIP Call Success = [gm_dict[&apos;SIP Call Successes&apos;]]</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="2ddcea9f-7085-448a-a977-753e58a0bdcc" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--SIP Call Failure = [gm_dict[&apos;SIP Call Failures&apos;]]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <message inherit="false">--SIP Call Failure = [gm_dict[&apos;SIP Call Failures&apos;]]</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="208c523d-5ac9-43e4-9b90-572383d6a8ca" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--Call Sucess = [pct_good]%</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <message inherit="false">--Call Sucess = [pct_good]%</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="153492ed-463f-4dad-86c5-4a40e1441b68" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--SIP Average Call Setup = [setup_avg] ms</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <message inherit="false">--SIP Average Call Setup = [setup_avg] ms</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="a241a0d0-b7d8-4b4f-961d-3165fbf6343b" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--SIP Minimum Call Setup = [setup_min] ms</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <message inherit="false">--SIP Minimum Call Setup = [setup_min] ms</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="d1a661ed-a0ed-408e-ae34-372c1ea76165" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:--SIP Maximum Call Setup = [setup_max] ms</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <message inherit="false">--SIP Maximum Call Setup = [setup_max] ms</message>
                                                            </applicationProperties>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="7e66f4cc-edc1-41f2-8eac-ad0e1c6993c3" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Graph percentage</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="3dded51e-6c3b-466d-89e9-e26c7df94ceb" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>float(&apos;%0.2f&apos; % pct_good)</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>responseLine()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="chart_as_bar">
                                                                            <ruleProperties type="com.fnfr.svt.execution.charting.processors.ChartUsingBarPropertyGroup" chartName="Pct_Success" useLegend="false" xAxisLabel="SIP Call Rate (calls/sec)" yAxisLabel="Success Percentage" category="[rate]" series="[rate]" rotate="false">
                                                                                <title>Call Success (call time [param(&apos;CallLength&apos;)] sec)</title>
                                                                                <expression>value</expression>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="db7c00ba-7176-4eb6-851b-402a9a3d366b" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Graph volume</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="fbf5dc6b-a8da-4b22-a2bf-cff063fed028" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>total_calls</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>responseLine()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="chart_as_bar">
                                                                            <ruleProperties type="com.fnfr.svt.execution.charting.processors.ChartUsingBarPropertyGroup" chartName="Call_Vol" useLegend="false" xAxisLabel="SIP Call Rate (calls/sec)" yAxisLabel="Total Calls" category="[rate]" series="[rate]" rotate="false">
                                                                                <title>Call Volume (call time [param(&apos;CallLength&apos;)] sec)</title>
                                                                                <expression>value</expression>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="2f6b6ad0-f473-49fa-8c5a-1c4e7b6846a5" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Graph failures</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="7aa07157-d03f-4e37-9f6a-a6c90e9b7e24" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>int(gm_dict[&apos;SIP Call Failures&apos;])</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>responseLine()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="chart_as_bar">
                                                                            <ruleProperties type="com.fnfr.svt.execution.charting.processors.ChartUsingBarPropertyGroup" chartName="Call_Failures" useLegend="false" xAxisLabel="SIP Call Rate (calls/sec)" yAxisLabel="Call Failures" category="[rate]" series="[rate]" rotate="false">
                                                                                <title>SIP Call Failures (call time [param(&apos;CallLength&apos;)] sec)</title>
                                                                                <expression>value</expression>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="a520fd52-2d5e-4c15-8ac1-5a8baf78e495" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Graph Avg Call Setup</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="0c4e76ff-e03d-43c3-9501-daf59d87cdf3" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>setup_avg</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>responseLine()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="chart_as_bar">
                                                                            <ruleProperties type="com.fnfr.svt.execution.charting.processors.ChartUsingBarPropertyGroup" chartName="Call_Setup_Avg" useLegend="false" xAxisLabel="SIP Call Rate (calls/sec)" yAxisLabel="Call Setup Time (ms)" category="[rate]" series="[rate]" rotate="false">
                                                                                <title>SIP Average Call Setup (call time [param(&apos;CallLength&apos;)] sec)</title>
                                                                                <expression>value</expression>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="14988904-352a-43a3-b159-75864d98b4f7" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Write to CSV</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="bcd18bc6-8936-4106-a35c-e39d29584e6f" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>tlist = [str(i+1),&apos;RID-&apos;+str(running_test_id),datetime.now().strftime(&apos;%Y-%m-%d %H:%M&apos;),str(rate),str(param(&apos;CallLength&apos;)),str(param(&apos;RunTime&apos;)),str(sub_count_total),str(mm_dict[&apos;Registration Completes&apos;]),str(mm_dict[&apos;Registration Rejects&apos;]),str(sm_dict[&apos;Pdu Establishment Accepts&apos;]),str(sm_dict[&apos;Pdu Establishment Rejects&apos;]),str(gm_dict[&apos;SIP Registration Setup Count&apos;]),str(gm_dict[&apos;SIP Registration Failures&apos;]),str(gm_dict[&apos;SIP Registration Retries&apos;]),str(total_calls),str(gm_dict[&apos;SIP Call Successes&apos;]),str(gm_dict[&apos;SIP Call Failures&apos;]),str(pct_good),str(setup_avg),str(setup_min),str(setup_max)]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="7679c378-c5fc-4b98-b31d-0d4d39e1c90d" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>tlist</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="e0d1358f-a3d1-45f7-8ac6-7b8bc37068f0" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>csv_file.write(&apos;,&apos;.join(tlist)+&apos;\\n&apos;)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="422d0288-8c61-4288-b08b-feef1dada134" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>csv_file.flush()</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c238af86-1ed7-4437-a881-f7e0254a67b1" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Delete running test</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="93fba858-0bb5-43b8-ae3a-8bc1658df5d1" action="Custom" session="s1">
                                            <command>
                                                <body>-requestMethod DELETE -dataType json -rawResponse true -url [tas_api_url]/runningTests/[running_test_id]</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>favorites_measurements</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" requestMethod="DELETE" requestMethod.inherit="false" rawResponse="true" rawResponse.inherit="false" url="[tas_api_url]/runningTests/[running_test_id]" url.inherit="false"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="84fff4d8-cb62-4dcb-a2c5-36ce98f0f539" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Close csv and push to S3 bucket</body>
                    </command>
                    <nestedSteps>
                        <item guid="f2204cd3-ec2a-4095-af1d-d8e41047b3fd" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>csv_file.close()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="d0401ea3-b8cc-4b76-b992-e7c68f67aba5" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>file_dir_str = tdir.name+&apos;\\\\&apos;+file_name</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="931aa1d5-e4ab-4817-8aef-d1373858e9e9" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>file_dir_str</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="afc2b2bd-f3e0-4ea2-86ba-0d2b9040006a" action="open" session="cli">
                            <command>
                                <body>application:com.fnfr.svt.applications.process</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionProperties type="com.fnfr.svt.applications.process.ProcessSessionProperties"/>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                        </item>
                        <item guid="c1c9fea0-555c-4fba-b40e-75d8889c862c" action="command" session="cli">
                            <command>
                                <body>run aws s3api put-object --bucket [param(&apos;S3Bucket&apos;)] --key [param(&apos;S3Folder&apos;)+&apos;/&apos;+file_name] --body [file_dir_str]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="contains">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                <searchString>exit code: 0</searchString>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>value == 1</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message>Uploaded CSV file to S3</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Failed to upload CSV file to S3</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>response</storeResponseAt>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="0f9c5493-e3f4-4644-92e9-ed7b31c591a0" action="eval" useFieldsInCommand="false">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="5644fef1-4dd2-4048-8942-0ecbbbc459d8" action="close" session="s1">
                    <nestedSteps>
                        <item guid="a2849d8e-4b1e-446f-83aa-76144a682df8" action="comment" skip="true" useFieldsInCommand="false">
                            <command>
                                <body>Report results</body>
                            </command>
                            <nestedSteps>
                                <item guid="ba04e7b1-00df-4353-8ec4-78e5b3cb6cf0" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>remove_tc_pf</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="4d73490c-c79e-4dcc-8194-c5714001fafe" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>res_dict in check_results_list:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="6c23f393-743a-49a8-ac84-4916c9e31a43" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:    Results for GNB ID [res_dict[&apos;gnb_id&apos;]] SUPI [res_dict[&apos;supi&apos;]]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">    Results for GNB ID [res_dict[&apos;gnb_id&apos;]] SUPI [res_dict[&apos;supi&apos;]]</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="fa5b2e49-bf0b-44aa-b89c-8c59cda7abab" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>overall = &quot;PASS&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="89295a20-6428-473b-901f-8280d9fa1009" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>[d for d in pass_fail_dict[&apos;criteria&apos;] if res_dict[&apos;search&apos;] in d[&apos;description&apos;]]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="df80125c-467d-440a-b8c8-1c9f9a350cd8" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>criteria_dict in [d for d in pass_fail_dict[&apos;criteria&apos;] if res_dict[&apos;search&apos;] in d[&apos;description&apos;]]:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="3a42598f-3b1b-49b4-8365-4fd445add990" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>res_dict[&apos;search&apos;] in criteria_dict[&apos;description&apos;]:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="9a304ae7-cfdc-42bc-8f83-20df27f6f8b1" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>criteria_dict[&apos;status&apos;]</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="contains">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.ExtractorContainsPropertyGroup">
                                                                                <searchString>PASSED</searchString>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="assert">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                <expression>value == 1</expression>
                                                                                <actionsWhenTrue>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                            <message>      [criteria_dict[&apos;description&apos;]]</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenTrue>
                                                                                <actionsWhenFalse>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                            <message>      [criteria_dict[&apos;description&apos;]]</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="Eval">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                            <statement>overall = &quot;FAIL&quot;</statement>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="FailTest">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenFalse>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5adaba03-2c48-40ab-924b-f8a68b267871" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>res_file.write(str(res_dict[&apos;supi&apos;])+&apos;,&apos;+res_dict[&apos;gnb_id&apos;]+&apos;,&apos;+overall+&apos;,N/A\\n&apos;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="c02597a1-2f1b-4763-9583-3a1b98f2df17" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>res_file.flush()</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
    </procedures>
</testCase>
